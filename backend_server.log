INFO:     Will watch for changes in these directories: ['/Users/rakesh_arrepu/code/Project-HHH/HHH/backend']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [37139] using StatReload
INFO:     Started server process [37188]
INFO:     Waiting for application startup.
2025-10-23 18:17:28,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-23 18:17:28,685 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("roles")
2025-10-23 18:17:28,685 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("group_members")
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("section_entries")
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notifications")
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("audit_logs")
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("backup_logs")
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:17:28,686 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:49944 - "GET /api/v1/auth/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49976 - "GET /graphql?query={health} HTTP/1.1" 200 OK
INFO:     127.0.0.1:50555 - "GET /graphql?query={{gql_query}}&variables={{gql_variables}} HTTP/1.1" 400 Bad Request
INFO:     127.0.0.1:50587 - "POST /api/v1/auth/refresh HTTP/1.1" 403 Forbidden
WARNING:  StatReload detected changes in 'src/core/security.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37188]
INFO:     Started server process [37626]
INFO:     Waiting for application startup.
2025-10-23 18:39:47,496 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-23 18:39:47,496 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("roles")
2025-10-23 18:39:47,496 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:39:47,497 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2025-10-23 18:39:47,497 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("group_members")
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("section_entries")
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notifications")
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("audit_logs")
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("backup_logs")
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:39:47,498 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'src/api/rest/v1/auth.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37626]
INFO:     Started server process [37650]
INFO:     Waiting for application startup.
2025-10-23 18:40:02,441 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-23 18:40:02,441 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("roles")
2025-10-23 18:40:02,441 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("groups")
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("group_members")
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("section_entries")
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notifications")
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("audit_logs")
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("backup_logs")
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-10-23 18:40:02,443 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:55946 - "GET /api/v1/auth/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56245 - "GET /api/v1/auth/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57298 - "POST /api/v1/auth/login HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:58764 - "POST /api/v1/auth/login HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:58795 - "GET /api/v1/auth/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59147 - "GET /api/v1/auth/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59174 - "POST /api/v1/auth/login HTTP/1.1" 403 Forbidden
WARNING:root:[AUTH_DEBUG] Called with email='rakesh.arrepu@gmail.com', normalized='rakesh.arrepu@gmail.com'
2025-10-23 19:09:22,105 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-23 19:09:22,108 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.password_hash AS users_password_hash, users.name AS users_name, users.role_id AS users_role_id, users.totp_secret AS users_totp_secret, users.is_2fa_enabled AS users_is_2fa_enabled, users.created_at AS users_created_at, users.last_login AS users_last_login, users.deleted_at AS users_deleted_at 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.password_hash AS users_password_hash, users.name AS users_name, users.role_id AS users_role_id, users.totp_secret AS users_totp_secret, users.is_2fa_enabled AS users_is_2fa_enabled, users.created_at AS users_created_at, users.last_login AS users_last_login, users.deleted_at AS users_deleted_at 
FROM users 
WHERE users.email = ?
 LIMIT ? OFFSET ?
2025-10-23 19:09:22,108 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ('rakesh.arrepu@gmail.com', 1, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00016s] ('rakesh.arrepu@gmail.com', 1, 0)
WARNING:root:[AUTH_DEBUG] User found: False, DB user email: None
ERROR:root:[AUTH_DEBUG] No user found for normalized email.
2025-10-23 19:09:22,114 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:59347 - "POST /api/v1/auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:60389 - "GET /api/v1/auth/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60586 - "GET /api/v1/auth/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61327 - "GET /api/v1/auth/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61565 - "GET /api/v1/auth/health HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [37650]
INFO:     Stopping reloader process [37139]
